!function t(r,e,n){function o(i,u){if(!e[i]){if(!r[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(a)return a(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var l=e[i]={exports:{}};r[i][0].call(l.exports,function(t){var e=r[i][1][t];return o(e||t)},l,l.exports,t,r,e,n)}return e[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(t,r,e){function n(t,r,e,n,o){a(o)}var o=t("route-state"),a=t("handle-error-web"),i=t("./karplus-strong/webaudio"),u=t("./karplus-strong/guitar"),c=t("./karplus-strong/sequencer"),s=o({followRoute:function(t){var r,e=i();null===e?console.log("Error obtaining audio context."):(r=new u(e,e.destination),c(e,r))},windowObject:window});window.onerror=n,s.routeFromHash()},{"./karplus-strong/guitar":3,"./karplus-strong/sequencer":6,"./karplus-strong/webaudio":7,"handle-error-web":8,"route-state":17}],2:[function(t,r,e){r.exports={getControlsValues:function(){return{stringTension:0,characterVariation:.5,stringDamping:.5,stringDampingVariation:.25,stringDampingCalculation:"magic",pluckDamping:.5,pluckDampingVariation:.25,body:"simple",stereoSpread:.2}},calculateSmoothingFactor:function(t,r,e){var n;if("direct"==e.stringDampingCalculation)n=e.stringDamping;else if("magic"==e.stringDampingCalculation){var o=(t.semitoneIndex+r-19)/44;n=e.stringDamping+Math.pow(o,.5)*(1-e.stringDamping)*.5+(1-e.stringDamping)*Math.random()*e.stringDampingVariation}return n},updateStringDamping:function(){var t=document.getElementById("stringDamping").valueAsNumber;document.getElementById("stringDampingValue").value=t.toFixed(1)},updateStringDampingVariation:function(){var t=document.getElementById("stringDampingVariation").valueAsNumber;document.getElementById("stringDampingVariationValue").value=t.toFixed(2)},updateStringTension:function(){var t=document.getElementById("stringTension").valueAsNumber;document.getElementById("stringTensionValue").value=t.toFixed(1)},updateCharacterVariation:function(){var t=document.getElementById("characterVariation").valueAsNumber;document.getElementById("characterVariationValue").value=t.toFixed(1)},updateStereoSpread:function(){var t=document.getElementById("stereoSpread").valueAsNumber;document.getElementById("stereoSpreadValue").value=t.toFixed(1)},updatePluckDamping:function(){var t=document.getElementById("pluckDamping").valueAsNumber;document.getElementById("pluckDampingValue").value=t.toFixed(1)},updatePluckDampingVariation:function(){var t=document.getElementById("pluckDampingVariation").valueAsNumber;document.getElementById("pluckDampingVariationValue").value=t.toFixed(2)},updateFilterCutoff:function(){var t=document.getElementById("filterCutoff").valueAsNumber;document.getElementById("filterCutoffValue").value=t.toFixed(1)}}},{}],3:[function(t,r,e){function n(t,r){this.strings=[new o(t,r,0,2,4),new o(t,r,1,2,9),new o(t,r,2,3,2),new o(t,r,3,3,7),new o(t,r,4,3,11),new o(t,r,5,4,4)]}var o=t("./guitarstring");n.C_MAJOR=[-1,3,2,0,0,0],n.G_MAJOR=[3,2,0,0,0,3],n.A_MINOR=[0,0,2,2,0,0],n.E_MINOR=[0,2,2,0,3,0],n.E_POWER=[0,2],n.B_flat_POWER=[6,8,8],n.prototype.strumChord=function(t,r,e,n){for(var o=0;o<n.length;o++){let a=n.length-1-o;r&&(a=o),-1!=n[a]&&this.strings[a].pluck(t,e,n[a]),t+=Math.random()/128}},n.prototype.setMode=function(t){for(var r=0;r<6;r++)this.strings[r].mode=t},r.exports=n},{"./guitarstring":4}],4:[function(t,r,e){function n(t,r,e,n,a){this.audioCtx=t,this.audioDestination=r;var i=27.5*Math.pow(2,-.75);this.basicHz=i*Math.pow(2,n+a/12),this.basicHz=this.basicHz.toFixed(2);var u=1/this.basicHz,c=Math.round(u*t.sampleRate);this.seedNoise=function(t,r){for(var e=new Float32Array(r),n=0;n<r;n++)e[n]=2*Math.random()-1;return e}(0,c),this.semitoneIndex=12*n+a-9,this.acousticLocation=.4*(e-2.5),this.mode="karplus-strong",this.asmWrapper=new o}var o=t("./guitarstring_asm"),{calculateSmoothingFactor:a,getControlsValues:i}=t("./controls");n.prototype.pluck=function(t,r,e){var n=this.audioCtx.sampleRate,o=1*n,u=this.audioCtx.createBuffer(2,o,n),c=i(),s=a(this,e,c),l=this.basicHz*Math.pow(2,e/12);if(r/=4,"karplus-strong"==this.mode)this.asmWrapper.pluck(u,this.seedNoise,n,l,s,r,c,this.acousticLocation);else if("sine"==this.mode){this.asmWrapper.pluckDecayedSine(u,n,l,r,8)}var f=this.audioCtx.createBufferSource();f.buffer=u,f.connect(this.audioDestination),f.start(t)},r.exports=n},{"./controls":2,"./guitarstring_asm":5}],5:[function(t,r,e){function n(){}n.prototype.initAsm=function(t){var r=function(t){var r,e=t<<2;if(e<=Math.pow(2,12))r=Math.pow(2,12);else{if(!(e<Math.pow(2,24)))throw"Heap length greater than 2^24 bytes not implemented";r=Math.pow(2,Math.ceil(Math.log2(e)))}return r}(t);this.heap=new Float32Array(r);var e=this.heap.buffer,n={random:Math.random,round:Math.round};this.asm=function(t,r,e){"use asm";var n=new t.Float32Array(e),o=t.Math.fround,a=t.Math.sin,i=t.Math.PI,u=t.Math.floor,c=t.Math.pow,s=r.random,l=r.round;function f(t,r,e){t=+t;r=+r;e=+e;var n=0.0;n=e*r+(1.0-e)*t;return+n}function p(t,r,e,n){t=+t;r=+r;e=+e;n=+n;var o=0.0;o=n*t+n*(e-r);return+o}function d(t,r){t=t|0;r=r|0;var e=0.0;var o=0.0;var u=0.0;var c=0.0;var s=0.0;var l=0.0;var f=0.0;var d=0.0;var h=0.0;var v=0;var g=0.0;var y=0.0;var m=0.999;var b=0.0;var w=0.0;l=2.0*a(i*3.4375/44100.0);f=2.0*a(i*6.124928687214833/44100.0);d=0.98;h=0.98;for(v=t<<2;(v|0)<=r<<2;v=v+4|0){e=e*d;e=e+(s-o)*l;o=o+e;o=o-o*o*o*0.166666666666666;u=u*h;u=u+(s-c)*f;c=c+u;c=c-c*c*c*0.166666666666666;s=+n[v>>2];g=s+(o+c)*2.0;y=+p(b,w,g,m);n[v>>2]=y;b=y;w=g}}function h(t,r){t=t|0;r=r|0;var e=0;var a=0.0;var i=0;var c=0;var s=0;var l=0;var f=0.0;var p=0.0;a=0.1;i=~~u(+(r>>>0)*a);c=t+r-i|0;e=t+r|0;for(s=c<<2,l=0;(s|0)<e<<2;s=s+4|0,l=l+1|0){f=+(l>>>0)/+(i>>>0);p=1.0-f;n[s>>2]=n[s>>2]*o(p)}}function v(t,r,e,o,a,i,c,p,d,h,v,g){t=t|0;r=r|0;e=e|0;o=o|0;a=a|0;i=+i;c=+c;p=+p;d=+d;h=+h;v=+v;g=+g;var y=0.0;var m=0;var b=0;var w=0.0;var _=0.0;var j=0.0;var A=0;var O=0.0;var x=0.0;var k=0.0;var D=0.0;var E=0.0;var C=0.0;var S=0.0;var F=0;var M=0;var I=0;var R=0;var P=0;y=1.0/i;m=~~+l(y*+(a>>>0));b=o-e+1|0;x=0.1;k=0.9;D=h-(h-x)*v;E=h+(k-h)*v;C=E-D;S=D+ +s()*C;for(M=0;(M|0)<(b|0);M=M+1|0){I=e+M<<2;if((M|0)<(m|0)){F=t+M<<2;j=+n[F>>2];j=j*(1.0-g);j=j+g*(-1.0+2.0*+s());j=j*c;_=+f(_,j,S)}else if(d!=1.0){R=I-(m<<2)|0;A=~~u(d*+(m>>>0));P=R+(A<<2)|0;_=+n[P>>2]}else{_=0.0}O=+f(w,_,p);n[I>>2]=O;w=O}}function g(t,r,e,o,u,s){t=t|0;r=r|0;e=e|0;o=+o;u=+u;s=+s;var l=0;var f=0;var p=0;var d=0.0;l=r-t+1|0;for(f=0;(f|0)<(l|0);f=f+1|0){p=t+f<<2;d=+(f>>>0)/+(e>>>0);n[p>>2]=u*c(2.0,-s*d)*a(2.0*i*o*d)}}return{renderKarplusStrong:v,renderDecayedSine:g,fadeTails:h,resonate:d}}(window,n,e)},n.prototype.pluckDecayedSine=function(t,r,e,n,o){var a=t.length;void 0===this.heap&&this.initAsm(a),a>this.heap.length&&this.initAsm(a);var i={targetStart:0,targetEnd:t.length-1},u=this.heap;this.asm.renderDecayedSine(i.targetStart,i.targetEnd,r,e,n,o);for(var c=t.getChannelData(0),s=t.getChannelData(1),l=0;l<c.length;l++)c[l]=u[l],s[l]=u[l]},n.prototype.pluck=function(t,r,e,n,o,a,i,u){var c=r.length+t.length;void 0===this.heap&&this.initAsm(c),c>this.heap.length&&this.initAsm(c);var s,l=this.heap,f=this.asm;for(s=0;s<r.length;s++)l[s]=r[s];var p={seedStart:0,seedEnd:r.length-1,targetStart:r.length,targetEnd:r.length+t.length-1};f.renderKarplusStrong(p.seedStart,p.seedEnd,p.targetStart,p.targetEnd,e,n,a,o,i.stringTension,i.pluckDamping,i.pluckDampingVariation,i.characterVariation),"simple"==i.body&&f.resonate(p.targetStart,p.targetEnd),f.fadeTails(p.targetStart,p.targetEnd-p.targetStart+1);var d=t.getChannelData(0),h=t.getChannelData(1),v=i.stereoSpread*u,g=.5*(1-v),y=.5*(1+v);for(s=0;s<d.length;s++)d[s]=l[p.targetStart+s]*g;for(s=0;s<d.length;s++)h[s]=l[p.targetStart+s]*y},r.exports=n},{}],6:[function(t,r,e){function n(t,r,e,u,c,s){var l,f=[o.E_POWER,o.B_flat_POWER,o.A_MINOR],p=a.pickFromArray(f);switch(e%13){case 0:l=u+0*i,r.strumChord(l,!0,1,p);break;case 1:l=u+4*i,r.strumChord(l,!0,1,p);break;case 2:l=u+6*i,r.strumChord(l,!1,.8,p);break;case 3:l=u+10*i,r.strumChord(l,!1,.8,p);break;case 4:l=u+12*i,r.strumChord(l,!0,1,p);break;case 5:l=u+14*i,r.strumChord(l,!1,.8,p);break;case 6:l=u+16*i,r.strumChord(l,!0,1,p);break;case 7:l=u+20*i,r.strumChord(l,!0,1,p);break;case 8:l=u+22*i,r.strumChord(l,!1,.8,p);break;case 9:l=u+26*i,r.strumChord(l,!1,.8,p);break;case 10:l=u+28*i,r.strumChord(l,!0,1,p);break;case 11:l=u+30*i,r.strumChord(l,!1,.8,p);break;case 12:l=u+31*i,r.strings[2].pluck(l,.7,p[1]),l=u+31.5*i,r.strings[1].pluck(l,.7,p[0]),c=(c+1)%4,u+=32*i}e++,l-t.currentTime<.2&&(s+=.1),console.log("precacheTime:",s);var d=l-t.currentTime-s;d<0&&(d=0),setTimeout(function(){n(t,r,e,u,c,s)},1e3*d)}var o=t("./guitar"),a=t("probable"),i=.06;r.exports=function(t,r){n(t,r,0,t.currentTime,0,0)}},{"./guitar":3,probable:11}],7:[function(t,r,e){r.exports=function(){if("localAudioContext"in window)return window.localAudioContext;var t;if("AudioContext"in window)t=window.AudioContext;else{if(!("webkitAudioContext"in window))return null;t=window.webkitAudioContext}var r=new t;return window.localAudioContext=r,r}},{}],8:[function(t,r,e){function n(t){if(t){console.error(t,t.stack);var r="";t.name&&(r+=t.name+": "),r+=t.message,t.stack&&(r+=" | "+t.stack.toString()),function(t){var r=document.getElementById("status-message");r.textContent=t,r.classList.remove("hidden")}(r)}}r.exports=n},{}],9:[function(t,r,e){(function(t){function n(t,r){return t.set(r[0],r[1]),t}function o(t,r){return t.add(r),t}function a(t,r,e,n){var o=-1,a=t?t.length:0;for(n&&a&&(e=t[++o]);++o<a;)e=r(e,t[o],o,t);return e}function i(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(t){}return r}function u(t){var r=-1,e=Array(t.size);return t.forEach(function(t,n){e[++r]=[n,t]}),e}function c(t,r){return function(e){return t(r(e))}}function s(t){var r=-1,e=Array(t.size);return t.forEach(function(t){e[++r]=t}),e}function l(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function f(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function p(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function d(t){this.__data__=new f(t)}function h(t,r){var e=qt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&k(t)}(t)&&mt.call(t,"callee")&&(!kt.call(t,"callee")||bt.call(t)==I)}(t)?function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n}(t.length,String):[],n=e.length,o=!!n;for(var a in t)!r&&!mt.call(t,a)||o&&("length"==a||function(t,r){return!!(r=null==r?M:r)&&("number"==typeof t||ot.test(t))&&t>-1&&t%1==0&&t<r}(a,n))||e.push(a);return e}function v(t,r,e){var n=t[r];mt.call(t,r)&&x(n,e)&&(void 0!==e||r in t)||(t[r]=e)}function g(t,r){for(var e=t.length;e--;)if(x(t[e][0],r))return e;return-1}function y(t,r,e,c,l,f,p){var h;if(c&&(h=f?c(t,l,f,p):c(t)),void 0!==h)return h;if(!E(t))return t;var g=qt(t);if(g){if(h=function(t){var r=t.length,e=t.constructor(r);r&&"string"==typeof t[0]&&mt.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!r)return function(t,r){var e=-1,n=t.length;r||(r=Array(n));for(;++e<n;)r[e]=t[e];return r}(t,h)}else{var m=$t(t),_=m==N||m==V;if(Qt(t))return function(t,r){if(r)return t.slice();var e=new t.constructor(t.length);return t.copy(e),e}(t,r);if(m==H||m==I||_&&!f){if(i(t))return f?t:{};if(h=function(t){return"function"!=typeof t.constructor||A(t)?{}:function(t){return E(t)?xt(t):{}}(Ot(t))}(_?{}:t),!r)return function(t,r){return w(t,Wt(t),r)}(t,function(t,r){return t&&w(r,C(r),t)}(h,t))}else{if(!at[m])return f?t:{};h=function(t,r,e,i){var c=t.constructor;switch(r){case $:return b(t);case R:case P:return new c(+t);case q:return function(t,r){var e=r?b(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,i);case Q:case G:case J:case K:case X:case Y:case Z:case tt:case rt:return function(t,r){var e=r?b(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,i);case B:return function(t,r,e){return a(r?e(u(t),!0):u(t),n,new t.constructor)}(t,i,e);case T:case U:return new c(t);case L:return function(t){var r=new t.constructor(t.source,et.exec(t));return r.lastIndex=t.lastIndex,r}(t);case z:return function(t,r,e){return a(r?e(s(t),!0):s(t),o,new t.constructor)}(t,i,e);case W:return function(t){return Ut?Object(Ut.call(t)):{}}(t)}}(t,m,y,r)}}p||(p=new d);var j=p.get(t);if(j)return j;if(p.set(t,h),!g)var O=e?function(t){return function(t,r,e){var n=r(t);return qt(t)?n:function(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t}(n,e(t))}(t,C,Wt)}(t):C(t);return function(t,r){for(var e=-1,n=t?t.length:0;++e<n&&!1!==r(t[e],e,t););}(O||t,function(n,o){O&&(n=t[o=n]),v(h,o,y(n,r,e,c,o,t,p))}),h}function m(t){if(!E(t)||function(t){return!!gt&&gt in t}(t))return!1;return(D(t)||i(t)?wt:nt).test(O(t))}function b(t){var r=new t.constructor(t.byteLength);return new At(r).set(new At(t)),r}function w(t,r,e,n){e||(e={});for(var o=-1,a=r.length;++o<a;){var i=r[o],u=n?n(e[i],t[i],i,e,t):void 0;v(e,i,void 0===u?t[i]:u)}return e}function _(t,r){var e=t.__data__;return function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}(r)?e["string"==typeof r?"string":"hash"]:e.map}function j(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return m(e)?e:void 0}function A(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||ht)}function O(t){if(null!=t){try{return yt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function x(t,r){return t===r||t!=t&&r!=r}function k(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=M}(t.length)&&!D(t)}function D(t){var r=E(t)?bt.call(t):"";return r==N||r==V}function E(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function C(t){return k(t)?h(t):function(t){if(!A(t))return St(t);var r=[];for(var e in Object(t))mt.call(t,e)&&"constructor"!=e&&r.push(e);return r}(t)}var S=200,F="__lodash_hash_undefined__",M=9007199254740991,I="[object Arguments]",R="[object Boolean]",P="[object Date]",N="[object Function]",V="[object GeneratorFunction]",B="[object Map]",T="[object Number]",H="[object Object]",L="[object RegExp]",z="[object Set]",U="[object String]",W="[object Symbol]",$="[object ArrayBuffer]",q="[object DataView]",Q="[object Float32Array]",G="[object Float64Array]",J="[object Int8Array]",K="[object Int16Array]",X="[object Int32Array]",Y="[object Uint8Array]",Z="[object Uint8ClampedArray]",tt="[object Uint16Array]",rt="[object Uint32Array]",et=/\w*$/,nt=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,at={};at[I]=at["[object Array]"]=at[$]=at[q]=at[R]=at[P]=at[Q]=at[G]=at[J]=at[K]=at[X]=at[B]=at[T]=at[H]=at[L]=at[z]=at[U]=at[W]=at[Y]=at[Z]=at[tt]=at[rt]=!0,at["[object Error]"]=at[N]=at["[object WeakMap]"]=!1;var it="object"==typeof t&&t&&t.Object===Object&&t,ut="object"==typeof self&&self&&self.Object===Object&&self,ct=it||ut||Function("return this")(),st="object"==typeof e&&e&&!e.nodeType&&e,lt=st&&"object"==typeof r&&r&&!r.nodeType&&r,ft=lt&&lt.exports===st,pt=Array.prototype,dt=Function.prototype,ht=Object.prototype,vt=ct["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),yt=dt.toString,mt=ht.hasOwnProperty,bt=ht.toString,wt=RegExp("^"+yt.call(mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=ft?ct.Buffer:void 0,jt=ct.Symbol,At=ct.Uint8Array,Ot=c(Object.getPrototypeOf,Object),xt=Object.create,kt=ht.propertyIsEnumerable,Dt=pt.splice,Et=Object.getOwnPropertySymbols,Ct=_t?_t.isBuffer:void 0,St=c(Object.keys,Object),Ft=j(ct,"DataView"),Mt=j(ct,"Map"),It=j(ct,"Promise"),Rt=j(ct,"Set"),Pt=j(ct,"WeakMap"),Nt=j(Object,"create"),Vt=O(Ft),Bt=O(Mt),Tt=O(It),Ht=O(Rt),Lt=O(Pt),zt=jt?jt.prototype:void 0,Ut=zt?zt.valueOf:void 0;l.prototype.clear=function(){this.__data__=Nt?Nt(null):{}},l.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},l.prototype.get=function(t){var r=this.__data__;if(Nt){var e=r[t];return e===F?void 0:e}return mt.call(r,t)?r[t]:void 0},l.prototype.has=function(t){var r=this.__data__;return Nt?void 0!==r[t]:mt.call(r,t)},l.prototype.set=function(t,r){return this.__data__[t]=Nt&&void 0===r?F:r,this},f.prototype.clear=function(){this.__data__=[]},f.prototype.delete=function(t){var r=this.__data__,e=g(r,t);return!(e<0||(e==r.length-1?r.pop():Dt.call(r,e,1),0))},f.prototype.get=function(t){var r=this.__data__,e=g(r,t);return e<0?void 0:r[e][1]},f.prototype.has=function(t){return g(this.__data__,t)>-1},f.prototype.set=function(t,r){var e=this.__data__,n=g(e,t);return n<0?e.push([t,r]):e[n][1]=r,this},p.prototype.clear=function(){this.__data__={hash:new l,map:new(Mt||f),string:new l}},p.prototype.delete=function(t){return _(this,t).delete(t)},p.prototype.get=function(t){return _(this,t).get(t)},p.prototype.has=function(t){return _(this,t).has(t)},p.prototype.set=function(t,r){return _(this,t).set(t,r),this},d.prototype.clear=function(){this.__data__=new f},d.prototype.delete=function(t){return this.__data__.delete(t)},d.prototype.get=function(t){return this.__data__.get(t)},d.prototype.has=function(t){return this.__data__.has(t)},d.prototype.set=function(t,r){var e=this.__data__;if(e instanceof f){var n=e.__data__;if(!Mt||n.length<S-1)return n.push([t,r]),this;e=this.__data__=new p(n)}return e.set(t,r),this};var Wt=Et?c(Et,Object):function(){return[]},$t=function(t){return bt.call(t)};(Ft&&$t(new Ft(new ArrayBuffer(1)))!=q||Mt&&$t(new Mt)!=B||It&&"[object Promise]"!=$t(It.resolve())||Rt&&$t(new Rt)!=z||Pt&&"[object WeakMap]"!=$t(new Pt))&&($t=function(t){var r=bt.call(t),e=r==H?t.constructor:void 0,n=e?O(e):void 0;if(n)switch(n){case Vt:return q;case Bt:return B;case Tt:return"[object Promise]";case Ht:return z;case Lt:return"[object WeakMap]"}return r});var qt=Array.isArray,Qt=Ct||function(){return!1};r.exports=function(t){return y(t,!0,!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,r,e){function n(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}function o(t,r){var e=O(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&p(t)}(t)&&w.call(t,"callee")&&(!j.call(t,"callee")||_.call(t)==v)}(t)?function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n}(t.length,String):[],n=e.length,o=!!n;for(var a in t)!r&&!w.call(t,a)||o&&("length"==a||l(a,n))||e.push(a);return e}function a(t,r,e,n){return void 0===t||f(t,b[e])&&!w.call(n,e)?r:t}function i(t,r,e){var n=t[r];w.call(t,r)&&f(n,e)&&(void 0!==e||r in t)||(t[r]=e)}function u(t){if(!d(t))return function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=function(t){var r=t&&t.constructor,e="function"==typeof r&&r.prototype||b;return t===e}(t),e=[];for(var n in t)("constructor"!=n||!r&&w.call(t,n))&&e.push(n);return e}function c(t,r){return r=A(void 0===r?t.length-1:r,0),function(){for(var e=arguments,o=-1,a=A(e.length-r,0),i=Array(a);++o<a;)i[o]=e[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=e[o];return u[r]=i,n(t,this,u)}}function s(t){return c(function(r,e){var n=-1,o=e.length,a=o>1?e[o-1]:void 0,i=o>2?e[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,i&&function(t,r,e){if(!d(e))return!1;var n=typeof r;if("number"==n?p(e)&&l(r,e.length):"string"==n&&r in e)return f(e[r],t);return!1}(e[0],e[1],i)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var u=e[n];u&&t(r,u,n,a)}return r})}function l(t,r){return!!(r=null==r?h:r)&&("number"==typeof t||m.test(t))&&t>-1&&t%1==0&&t<r}function f(t,r){return t===r||t!=t&&r!=r}function p(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}(t.length)&&!function(t){var r=d(t)?_.call(t):"";return r==g||r==y}(t)}function d(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}var h=9007199254740991,v="[object Arguments]",g="[object Function]",y="[object GeneratorFunction]",m=/^(?:0|[1-9]\d*)$/,b=Object.prototype,w=b.hasOwnProperty,_=b.toString,j=b.propertyIsEnumerable,A=Math.max,O=Array.isArray,x=s(function(t,r,e,n){!function(t,r,e,n){e||(e={});for(var o=-1,a=r.length;++o<a;){var u=r[o],c=n?n(e[u],t[u],u,e,t):void 0;i(e,u,void 0===c?t[u]:c)}}(r,function(t){return p(t)?o(t,!0):u(t)}(r),t,n)}),k=c(function(t){return t.push(void 0,a),n(x,void 0,t)});r.exports=k},{}],11:[function(t,r,e){function n(t){function r(t){return Math.floor(p()*t)}function e(t){function e(t){return function(t,r){r=+r;for(var e=0;e<t.length;++e){var n=t[e],o=n[0];if(r>=o[0]&&r<=o[1])return n[1]}}(n,t)}var n=t,o=n[n.length-1][0][1]-n[0][0][0]+1;return{outcomeAtIndex:e,roll:function(){var t=e(r(o));return"function"!=typeof t||"probable_rollOnTable"!==t.name&&"probable_pick"!==t.name?t:t()},length:o,getRangesAndOutcomesArray:function(){return n}}}function n(t){var r=[],e=-1,n=function(t){var r=[];for(var e in t){var n=t[e];r.push([n,e])}return r}(t);return(n=n.sort(o)).forEach(function(t){var n=t[0],o=t[1],a=e+1,i=a+n-1;r.push([[a,i],o]),e=i}),r}function o(t,r){return t[0]>r[0]?-1:1}function a(t){return e(function(t){var r=[];for(var e in t){var n=function(t){var r=t.split("-");if(r.length>2)return;return 1===r.length?[+t,+t]:[+r[0],+r[1]]}(e),o=t[e];if("object"==typeof o)if(Array.isArray(o))o=s(o);else{var u=a(o);"function"==typeof u.roll&&(o=u.roll)}r.push([n,o])}return r.sort(i)}(t))}function i(t,r){return t[0][0]<r[0][0]?-1:1}function u(t){return e(function(t){function r(t){var r=t[0],n=t[1],o=e+r-1,a=[e,o];if(e=o+1,Array.isArray(n))if(function(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])&&2===t[0].length&&"number"==typeof t[0][0]}(n)){var i=u(n);"function"==typeof i.roll&&(n=i.roll)}else n=s(n);return[a,n]}var e=0;return t.map(r)}(t))}function c(t,e){return!t||"number"!=typeof t.length||t.length<1?e:t[r(t.length)]}function s(t,r){return function(){return c(t,r)}}function l(t,r){var e=[];return t.forEach(function(t){r.forEach(function(r){Array.isArray(t)||Array.isArray(r)?e.push(t.concat(r)):e.push([t,r])})}),e}function f(t){for(var e,n=t.length,o=Array(n),a=0;a<n;a++)(e=r(a+1))!==a&&(o[a]=o[e]),o[e]=t[a];return o}var p=Math.random;return t&&t.random&&(p=t.random),{roll:r,rollDie:function(t){return 0===t?0:r(t)+1},createRangeTable:e,createRangeTableFromDict:function(t){return e(n(t))},createTableFromDef:a,createTableFromSizes:u,convertDictToRangesAndOutcomePairs:n,pickFromArray:c,crossArrays:l,getCartesianProduct:function(t){return t.slice(1).reduce(l,t[0])},shuffle:f,sample:function(t,r){return f(t).slice(0,r)},randomFn:p}}var o=n();"object"==typeof r&&(r.exports=o,r.exports.createProbable=n)},{}],12:[function(t,r,e){"use strict";var n=String.prototype.replace,o=/%20/g;r.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],13:[function(t,r,e){"use strict";var n=t("./stringify"),o=t("./parse"),a=t("./formats");r.exports={formats:a,parse:o,stringify:n}},{"./formats":12,"./parse":14,"./stringify":15}],14:[function(t,r,e){"use strict";var n=t("./utils"),o=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(t,r,e){if(t){var n=e.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),u=i?n.slice(0,i.index):n,c=[];if(u){if(!e.plainObjects&&o.call(Object.prototype,u)&&!e.allowPrototypes)return;c.push(u)}for(var s=0;null!==(i=a.exec(n))&&s<e.depth;){if(s+=1,!e.plainObjects&&o.call(Object.prototype,i[1].slice(1,-1))&&!e.allowPrototypes)return;c.push(i[1])}return i&&c.push("["+n.slice(i.index)+"]"),function(t,r,e){for(var n=r,o=t.length-1;o>=0;--o){var a,i=t[o];if("[]"===i)a=(a=[]).concat(n);else{a=e.plainObjects?Object.create(null):{};var u="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(u,10);!isNaN(c)&&i!==u&&String(c)===u&&c>=0&&e.parseArrays&&c<=e.arrayLimit?(a=[])[c]=n:a[u]=n}n=a}return n}(c,r,e)}};r.exports=function(t,r){var e=r?n.assign({},r):{};if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(e.ignoreQueryPrefix=!0===e.ignoreQueryPrefix,e.delimiter="string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,e.depth="number"==typeof e.depth?e.depth:a.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,e.parseArrays=!1!==e.parseArrays,e.decoder="function"==typeof e.decoder?e.decoder:a.decoder,e.allowDots="boolean"==typeof e.allowDots?e.allowDots:a.allowDots,e.plainObjects="boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,e.allowPrototypes="boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,e.strictNullHandling="boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,""===t||null===t||void 0===t)return e.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,r){for(var e={},n=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=r.parameterLimit===1/0?void 0:r.parameterLimit,u=n.split(r.delimiter,i),c=0;c<u.length;++c){var s,l,f=u[c],p=f.indexOf("]="),d=-1===p?f.indexOf("="):p+1;-1===d?(s=r.decoder(f,a.decoder),l=r.strictNullHandling?null:""):(s=r.decoder(f.slice(0,d),a.decoder),l=r.decoder(f.slice(d+1),a.decoder)),o.call(e,s)?e[s]=[].concat(e[s]).concat(l):e[s]=l}return e}(t,e):t,c=e.plainObjects?Object.create(null):{},s=Object.keys(u),l=0;l<s.length;++l){var f=s[l],p=i(f,u[f],e);c=n.merge(c,p,e)}return n.compact(c)}},{"./utils":16}],15:[function(t,r,e){"use strict";var n=t("./utils"),o=t("./formats"),a={brackets:function(t){return t+"[]"},indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},i=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return i.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(r,e,o,a,i,c,s,l,f,p,d,h){var v=r;if("function"==typeof s)v=s(e,v);else if(v instanceof Date)v=p(v);else if(null===v){if(a)return c&&!h?c(e,u.encoder):e;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||n.isBuffer(v)){if(c){return[d(h?e:c(e,u.encoder))+"="+d(c(v,u.encoder))]}return[d(e)+"="+d(String(v))]}var g=[];if(void 0===v)return g;var y;if(Array.isArray(s))y=s;else{var m=Object.keys(v);y=l?m.sort(l):m}for(var b=0;b<y.length;++b){var w=y[b];i&&null===v[w]||(g=Array.isArray(v)?g.concat(t(v[w],o(e,w),o,a,i,c,s,l,f,p,d,h)):g.concat(t(v[w],e+(f?"."+w:"["+w+"]"),o,a,i,c,s,l,f,p,d,h)))}return g};r.exports=function(t,r){var e=t,i=r?n.assign({},r):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===i.delimiter?u.delimiter:i.delimiter,l="boolean"==typeof i.strictNullHandling?i.strictNullHandling:u.strictNullHandling,f="boolean"==typeof i.skipNulls?i.skipNulls:u.skipNulls,p="boolean"==typeof i.encode?i.encode:u.encode,d="function"==typeof i.encoder?i.encoder:u.encoder,h="function"==typeof i.sort?i.sort:null,v=void 0!==i.allowDots&&i.allowDots,g="function"==typeof i.serializeDate?i.serializeDate:u.serializeDate,y="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:u.encodeValuesOnly;if(void 0===i.format)i.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,i.format))throw new TypeError("Unknown format option provided.");var m,b,w=o.formatters[i.format];"function"==typeof i.filter?e=(b=i.filter)("",e):Array.isArray(i.filter)&&(m=b=i.filter);var _=[];if("object"!=typeof e||null===e)return"";var j;j=i.arrayFormat in a?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var A=a[j];m||(m=Object.keys(e)),h&&m.sort(h);for(var O=0;O<m.length;++O){var x=m[O];f&&null===e[x]||(_=_.concat(c(e[x],x,A,l,f,p?d:null,b,h,v,g,w,y)))}var k=_.join(s),D=!0===i.addQueryPrefix?"?":"";return k.length>0?D+k:""}},{"./formats":12,"./utils":16}],16:[function(t,r,e){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var t=[],r=0;r<256;++r)t.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return t}(),a=function(t,r){for(var e=r&&r.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(e[n]=t[n]);return e};r.exports={arrayToObject:a,assign:function(t,r){return Object.keys(r).reduce(function(t,e){return t[e]=r[e],t},t)},compact:function(t){for(var r=[{obj:{o:t},prop:"o"}],e=[],n=0;n<r.length;++n)for(var o=r[n],a=o.obj[o.prop],i=Object.keys(a),u=0;u<i.length;++u){var c=i[u],s=a[c];"object"==typeof s&&null!==s&&-1===e.indexOf(s)&&(r.push({obj:a,prop:c}),e.push(s))}return function(t){for(var r;t.length;){var e=t.pop();if(r=e.obj[e.prop],Array.isArray(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}return r}(r)},decode:function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(r){return t}},encode:function(t){if(0===t.length)return t;for(var r="string"==typeof t?t:String(t),e="",n=0;n<r.length;++n){var a=r.charCodeAt(n);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?e+=r.charAt(n):a<128?e+=o[a]:a<2048?e+=o[192|a>>6]+o[128|63&a]:a<55296||a>=57344?e+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(n+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(n)),e+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return e},isBuffer:function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(r,e,o){if(!e)return r;if("object"!=typeof e){if(Array.isArray(r))r.push(e);else{if("object"!=typeof r)return[r,e];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,e))&&(r[e]=!0)}return r}if("object"!=typeof r)return[r].concat(e);var i=r;return Array.isArray(r)&&!Array.isArray(e)&&(i=a(r,o)),Array.isArray(r)&&Array.isArray(e)?(e.forEach(function(e,a){n.call(r,a)?r[a]&&"object"==typeof r[a]?r[a]=t(r[a],e,o):r.push(e):r[a]=e}),r):Object.keys(e).reduce(function(r,a){var i=e[a];return n.call(r,a)?r[a]=t(r[a],i,o):r[a]=i,r},i)}}},{}],17:[function(t,r,e){var n=t("qs"),o=t("lodash.clonedeep"),a=t("lodash.defaults");r.exports=function({followRoute:t,windowObject:r}){function e(){t(i(),c)}function i(){return n.parse(r.location.hash.slice(1))}function u(t){var e=r.location.protocol+"//"+r.location.host+r.location.pathname+"#"+n.stringify(t);r.history.pushState(null,null,e)}var c={};return r.onhashchange=e,{addToRoute:function(r,e=!0){var n=a(o(r),i());u(n),e&&t(n,c)},updateEphemeralState:function(r,e=!0){for(var n in r)c[n]=r[n];e&&t(i(),c)},overwriteRouteEntirely:function(r){u(r),t(r,c)},routeFromHash:e,unpackEncodedRoute:function(r){var e=n.parse(decodeURIComponent(r));u(e),t(e,c)},getRouteFromHash:i}}},{"lodash.clonedeep":9,"lodash.defaults":10,qs:13}]},{},[1]);